<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="static/jq/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="static/jq/ajaxfileupload.js"></script>
</head>
<body>
<form id="sellerSearch" name="sellerSearch">
    搜索框 <input type="text" id="search" name="search" value="">
    <input type="button" onclick="searchEvaluation()" value="搜索"><br>
    状态
    <select id="status">
        <option value="0">正常</option>
        <option value="1">违规</option>
    </select>&nbsp;&nbsp;&nbsp;
    <input type="hidden" id="sellerId" name="sellerId" value="2000000"/>
    <select id="condition">
        <option value="商家">商家</option>
        <option value="店铺">店铺</option>
    </select>
</form>
<br>

<table id="show">
    <tbody>
    <tr>
        <td>店铺id</td>
        <td>店铺名</td>
        <td>卖家</td>
        <td>状态</td>
        <td>操作</td>
    </tr>
    </tbody>
</table>

</body>
</html>
<script type="text/javascript">
    function searchEvaluation() {
        var id = $("#sellerId").val();
        alert(id);
        var search = $('#search').val();
        var status = $('#status').val();
        var condition = $('#condition').val();
        alert(id+""+search+""+condition+""+status);
        $.ajax({
            contentType: 'application/json;charset=UTF-8',   //定义编码
            url: '/evaluate/searchEvaluation',
            type: 'post',
            data: {sellerId:sellerId, search:search, date:date, condition:condition},
            success: function (result) {
                var s = "";
                alert("成功");
                $.each(result.data, function (i, v) {
                    s += "<tr><td>" + v.evaluateVo.items.iName;
                    s += "</td><td>" + v.store.stName + "</td><td>" + v.evaluateVo.user.uUserName;
                    s += "</td><td>" + v.evaluateVo.evaluate.eDescription + "</td><td>" + v.evaluateVo.evaluate.eLevel;
                    s += "</td><td>" + v.evaluateVo.evaluate.ePhotos + "</td><td>" + v.order.oDate;
                    s += "</td><td>" + v.order.oPrice + "</td><td>" + v.order.oMessage + "</td></tr>";
                })
                alert(s1);
                $("#show").first("tr").append(s);
            }, error: function () {
                var s = "评论加载失败";
                alert(s);
            }
        });
    }
</script>
