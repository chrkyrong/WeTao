<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>客服</title>
    <script src="static/jq/jquery-2.1.4.min.js" type="text/javascript"></script>
    <script src="static/jq/webSocket/sock_js.js" type="text/javascript"></script>
    <script src="static/jq/webSocket/stomp.js" type="text/javascript"></script>
    <script src="static/jq/webSocket/update.js" type="text/javascript"></script>
    <script type="text/javascript">
        var webSocket = null;
        if ('WebSocket' in window) {
            //Websocket的连接
            webSocket = new WebSocket("ws://localhost:8080/webSocket");//WebSocket对应的地址
        }
        else if ('MozWebSocket' in window) {
            //Websocket的连接
            webSocket = new MozWebSocket("ws://localhost:8080/webSocket");//SockJS对应的地址
        }
        else {
            //SockJS的连接
            webSocket = new SockJS("ws://localhost:8080/webSocket");    //SockJS对应的地址
        }
        webSocket.onmessage = onMessage;
        webSocket.onerror = onError;

        function onMessage(response) {
            var ta = document.getElementById('responseContext');
            console.log(response.data);
            var msg = $.parseJSON(response.data);
            ta.value += 'from ' + msg.fromId + ' ' + msg.time + '\n' + msg.message + '\n'
        }

        function onError() {
        }

    </script>
    <style type="text/css">
        .area{
            width: 95%;
            height: 100px;
            border: hidden;
            background-color: inherit;
            outline-color: white;
            resize: none
        }
        hr{
            width: 95%;
        }
        div{
            text-align: center;
        }
    </style>
</head>
<body>
    <!--总的框架-->
    <div id="main" style="width: 100%; height: 100%">
        <!--菜单栏，用于显示信息-->
        <div id="menu">
            <h4>店铺名称</h4>
        </div>
        <hr>
        <!--显示对话的面板-->
        <div id="show" style="width: 100%; height: 300px;">

        </div>
        <hr>
        <!--文本输入框-->
        <div id="content" style="width: 100%;text-align: center;">
            <label for="text">
                <textarea id="text" class="area"></textarea>
            </label>
        </div>
        <!--按钮-->
        <div>
            <div style="float: right">
                <button>发送</button>
                <button>取消</button>
            </div>
        </div>
    </div>
<input type="button" id="server" value="test">
</body>
<script src="static/jq/jquery-2.1.4.min.js"></script>
<script src="static/layer/layer.js"></script>
<script>
    $('#server').on('click', function(){
        console.log('test');
        layer.open({
            type: 2,
            title: '在线客服',
            maxmin: true,
            shadeClose: false,
            area : ['40%' , '60%'],
            content: 'sellerService.html'
        });
    });
</script>
</html>